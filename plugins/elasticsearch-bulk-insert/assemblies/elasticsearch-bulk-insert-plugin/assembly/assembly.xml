<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd">
    <id>elasticsearch-bulk-insert-assembly</id>
    <formats>
        <format>zip</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
    <fileSets>
        <fileSet>
            <directory>${project.basedir}/assembly/resources</directory>
            <outputDirectory>elasticsearch-bulk-insert-plugin</outputDirectory>
            <filtered>true</filtered>
        </fileSet>
    </fileSets>
    <dependencySets>
        <dependencySet>
	        <outputDirectory>elasticsearch-bulk-insert-plugin</outputDirectory>
	        <includes>
	            <include>org.pentaho.kettle.plugins:elasticsearch-bulk-insert-core:jar</include>
	        </includes>
	    </dependencySet>
        <dependencySet>
            <outputDirectory>elasticsearch-bulk-insert-plugin/lib</outputDirectory>
            <scope>runtime</scope>
            <useTransitiveDependencies>true</useTransitiveDependencies>
            <includes>
                <include>*:*:jar</include>
            </includes>
            <excludes>
                 <exclude>org.pentaho.kettle.plugins:elasticsearch-bulk-insert-core:jar</exclude>
                 <exclude>pentaho-kettle:kettle-core:jar</exclude>
                 <exclude>pentaho-kettle:kettle-engine:jar</exclude>
                 <exclude>pentaho-kettle:kettle-engine:jar:tests</exclude>
                 <exclude>pentaho-kettle:kettle-ui-swt:jar</exclude>
                 <exclude>pentaho-kettle:kettle-dbdialog:jar</exclude>
                 <exclude>com.googlecode.log4jdbc:log4jdbc:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-anim:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-awt-util:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-bridge:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-codec:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-css:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-dom:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-ext:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-gvt:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-parser:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-script:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-svg-dom:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-svggen:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-transcoder:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-util:jar</exclude>
                 <exclude>org.apache.xmlgraphics:batik-xml:jar</exclude>
                 <exclude>org.eclipse.core:commands:jar</exclude>
                 <exclude>org.eclipse.equinox:common:jar</exclude>
                 <exclude>commons-beanutils:commons-beanutils:jar</exclude>
                 <exclude>commons-codec:commons-codec:jar</exclude>
                 <exclude>commons-collections:commons-collections:jar</exclude>
                 <exclude>org.apache.commons:commons-compress:jar</exclude>
                 <exclude>commons-dbcp:commons-dbcp:jar</exclude>
                 <exclude>commons-httpclient:commons-httpclient:jar</exclude>
                 <exclude>commons-io:commons-io:jar</exclude>
                 <exclude>commons-lang:commons-lang:jar</exclude>
                 <exclude>commons-logging:commons-logging:jar</exclude>
                 <exclude>commons-net:commons-net:jar</exclude>
                 <exclude>commons-pool:commons-pool:jar</exclude>
                 <exclude>org.apache.commons:commons-vfs2:jar</exclude>
                 <exclude>dom4j:dom4j:jar</exclude>
                 <exclude>org.owasp.encoder:encoder:jar</exclude>
                 <exclude>com.ibm.icu:icu4j:jar</exclude>
                 <exclude>javassist:javassist:jar</exclude>
                 <exclude>org.javassist:javassist:jar</exclude>
                 <exclude>org.eclipse.jetty.orbit:javax.activation:jar</exclude>
                 <exclude>org.eclipse.jetty.orbit:javax.mail.glassfish:jar</exclude>
                 <exclude>org.eclipse.jetty.orbit:javax.servlet:jar</exclude>
                 <exclude>org.eclipse.jetty.orbit:javax.transaction:jar</exclude>
                 <exclude>jaxen:jaxen:jar</exclude>
                 <exclude>org.samba.jcifs:jcifs:jar</exclude>
                 <exclude>jfree:jcommon:jar</exclude>
                 <exclude>jdom:jdom:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-continuation:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-http:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-io:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-jndi:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-plus:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-security:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-server:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-servlet:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-util:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-webapp:jar</exclude>
                 <exclude>org.eclipse.jetty:jetty-xml:jar</exclude>
                 <exclude>org.eclipse:jface:jar</exclude>
                 <exclude>jfree:jfreechart:jar</exclude>
                 <exclude>rhino:js:jar</exclude>
                 <exclude>com.jcraft:jsch:jar</exclude>
                 <exclude>jug-lgpl:jug-lgpl:jar</exclude>
                 <exclude>javax.mail:mail:jar</exclude>
                 <exclude>pentaho:metastore:jar</exclude>
                 <exclude>org.mockito:mockito-all:jar</exclude>
                 <exclude>ognl:ognl:jar</exclude>
                 <exclude>org.apache.felix:org.apache.felix.utils:jar</exclude>
                 <exclude>org.apache.karaf:org.apache.karaf.main:jar</exclude>
                 <exclude>org.apache.karaf:org.apache.karaf.util:jar</exclude>
                 <exclude>org.eclipse.swt:org.eclipse.swt.gtk.linux.x86_64:jar</exclude>
                 <exclude>oro:oro:jar</exclude>
                 <exclude>pentaho:pentaho-capability-manager:jar</exclude>
                 <exclude>pentaho:pentaho-vfs-browser:jar</exclude>
                 <exclude>pentaho:pentaho-xul-core:jar</exclude>
                 <exclude>pentaho:pentaho-xul-swing:jar</exclude>
                 <exclude>pentaho:pentaho-xul-swt:jar</exclude>
                 <exclude>net.sf.scannotation:scannotation:jar</exclude>
                 <exclude>secondstring:secondstring:jar</exclude>
                 <exclude>org.slf4j:slf4j-api:jar</exclude>
                 <exclude>org.eclipse:swt:jar</exclude>
                 <exclude>xalan:xalan:jar</exclude>
                 <exclude>xerces:xercesImpl:jar</exclude>
                 <exclude>xml-apis:xml-apis:jar</exclude>
                 <exclude>xml-apis:xml-apis-ext:jar</exclude>
                 <exclude>xerces:xmlParserAPIs:jar</exclude>
                 <exclude>xom:xom:jar</exclude>
                 <exclude>org.tukaani:xz:jar</exclude>
            </excludes>
        </dependencySet>
    </dependencySets>
</assembly>